["{}","{\"nodes\":{\"OUTPUT1\":{\"sources\":[\"JOIN5\"],\"action\":\"save\",\"parameters\":{\"fields\":[],\"dataset\":{\"name\":\"CaseHistory\",\"label\":\"CaseHistory\",\"folderName\":\"CustomerInsights\",\"type\":\"analyticsDataset\"}}},\"LOAD_DATASET6\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"Id\",\"IsDeleted\",\"CaseId\",\"CreatedById\",\"CreatedDate\",\"Field\",\"DataType\",\"OldValue\",\"NewValue\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"sourceObjectName\":\"CaseHistory\",\"label\":\"CaseHistory\",\"connectionName\":\"SFDC_LOCAL\",\"type\":\"connectedDataset\"}}},\"JOIN0\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"Account.Id\",\"Account.MasterRecordId\",\"Account.BillingStreet\",\"Account.ShippingStreet\",\"Account.Phone\",\"Account.PhotoUrl\",\"Account.AnnualRevenue\",\"Account.NumberOfEmployees\",\"Account.LastViewedDate\",\"Account.AccountSource\"]},\"fields\":[]},\"sources\":[\"LOAD_DATASET0\",\"LOAD_DATASET4\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"AccountId\"],\"rightQualifier\":\"Account\",\"rightKeys\":[\"Id\"],\"joinType\":\"LOOKUP\"}},\"LOAD_DATASET5\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"name\":\"User\",\"label\":\"User\",\"type\":\"analyticsDataset\"}}},\"LOAD_DATASET4\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"name\":\"Account\",\"label\":\"Account\",\"type\":\"analyticsDataset\"}}},\"OUTPUT0\":{\"sources\":[\"FORMULA3\"],\"action\":\"save\",\"parameters\":{\"fields\":[],\"dataset\":{\"name\":\"Case\",\"label\":\"Case\",\"folderName\":\"CustomerInsights\",\"type\":\"analyticsDataset\"}}},\"LOAD_DATASET3\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"Id\",\"Name\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"sourceObjectName\":\"Contact\",\"label\":\"Contact\",\"connectionName\":\"SFDC_LOCAL\",\"type\":\"connectedDataset\"}}},\"LOAD_DATASET0\":{\"sources\":[],\"action\":\"load\",\"parameters\":{\"fields\":[\"Id\",\"CaseNumber\",\"ContactId\",\"AccountId\",\"ParentId\",\"SuppliedName\",\"SuppliedEmail\",\"SuppliedPhone\",\"SuppliedCompany\",\"Type\",\"Status\",\"Reason\",\"Origin\",\"Subject\",\"Priority\",\"Description\",\"IsClosed\",\"ClosedDate\",\"IsEscalated\",\"OwnerId\",\"CreatedDate\",\"LastModifiedDate\",\"ContactPhone\",\"ContactMobile\",\"ContactEmail\",\"LastViewedDate\"],\"sampleDetails\":{\"sortBy\":[],\"type\":\"TopN\"},\"dataset\":{\"sourceObjectName\":\"Case\",\"label\":\"Case\",\"connectionName\":\"SFDC_LOCAL\",\"type\":\"connectedDataset\"}}},\"EDIT_ATTRIBUTES1\":{\"sources\":[\"FORMULA1\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"name\":\"Duration\",\"label\":\"Duration\"},\"name\":\"Id_formula\"}]}},\"EDIT_ATTRIBUTES3\":{\"sources\":[\"EDIT_ATTRIBUTES2\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"name\":\"CreatedDate\",\"label\":\"CreatedDate\"},\"name\":\"CreatedDate\"}]}},\"EDIT_ATTRIBUTES2\":{\"sources\":[\"FORMULA2\"],\"action\":\"schema\",\"parameters\":{\"fields\":[{\"newProperties\":{\"name\":\"Duration_Bucket\",\"label\":\"Duration Bucket\"},\"name\":\"Id_formula\"}]}},\"FORMULA1\":{\"sources\":[\"JOIN4\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"case \\n\\nwhen \\nIsClosed=true\\n\\nthen \\n(to_unix_timestamp(ClosedDate)- to_unix_timestamp(CreatedDate))/86400\\n\\nelse \\n(to_unix_timestamp(current_date())- to_unix_timestamp(CreatedDate))/86400\\n\\nend\",\"defaultValue\":\"0\",\"precision\":18,\"name\":\"Id_formula\",\"scale\":2,\"label\":\"Duration\",\"type\":\"NUMBER\"}]}},\"JOIN5\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"Case.Id\"]},\"fields\":[]},\"sources\":[\"LOAD_DATASET6\",\"FORMULA3\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"CaseId\"],\"rightQualifier\":\"Case\",\"rightKeys\":[\"Id\"],\"joinType\":\"LOOKUP\"}},\"FORMULA2\":{\"sources\":[\"EDIT_ATTRIBUTES1\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"case \\n\\twhen Duration >0 and Duration <8 \\n\\tthen '1. 1-7'\\n    when Duration >7 and Duration <22\\n    then '2. 8-21'\\n    when Duration >21 and Duration <61\\n    then '3. 22-60' \\n    when Duration >60 and Duration <101\\n    then '4. 61-100'\\nwhen Duration >100 and Duration < 366\\n    then '5. 101-365'  \\n    when Duration >365\\n    then '6. >1yr'  \\n\\telse '7. NA'\\t\\nend\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"Id_formula\",\"label\":\"Duration Bucket\",\"type\":\"TEXT\"}]}},\"DETECT_SENTIMENT0\":{\"sources\":[\"EDIT_ATTRIBUTES3\"],\"action\":\"detectSentiment\",\"parameters\":{\"sourceField\":\"Description\",\"sentimentScore\":\"NONE\",\"targetField\":{\"name\":\"Description_sentiment\",\"label\":\"Description Sentiment\"},\"outputType\":\"DIMENSION\",\"targetSentimentScoreFields\":null}},\"JOIN4\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"Agent.PostalCode\",\"Agent.CompanyName\",\"Agent.Street\",\"Agent.Division\",\"Agent.City\",\"Agent.ReceivesInfoEmails\",\"Agent.Alias\",\"Agent.Id\",\"Agent.UserType\"]},\"fields\":[]},\"sources\":[\"JOIN3\",\"LOAD_DATASET5\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"OwnerId\"],\"rightQualifier\":\"Agent\",\"rightKeys\":[\"Id\"],\"joinType\":\"LOOKUP\"}},\"FORMULA3\":{\"sources\":[\"DETECT_SENTIMENT0\"],\"action\":\"formula\",\"parameters\":{\"expressionType\":\"SQL\",\"fields\":[{\"formulaExpression\":\"case when Description_sentiment = 'Positive' then 'ðŸŸ¢' when Description_sentiment = 'Neutral' then 'ðŸŸ¡' else 'ðŸ”´' end\",\"defaultValue\":\"\",\"precision\":255,\"name\":\"DescriptionSentimentRating\",\"label\":\"DescriptionSentimentRating\",\"type\":\"TEXT\"}]}},\"JOIN3\":{\"schema\":{\"slice\":{\"mode\":\"DROP\",\"ignoreMissingFields\":true,\"fields\":[\"Contact.Id\"]},\"fields\":[]},\"sources\":[\"JOIN0\",\"LOAD_DATASET3\"],\"action\":\"join\",\"parameters\":{\"leftKeys\":[\"ContactId\"],\"rightQualifier\":\"Contact\",\"rightKeys\":[\"Id\"],\"joinType\":\"LOOKUP\"}}},\"ui\":{\"hiddenColumns\":[],\"connectors\":[{\"source\":\"JOIN0\",\"target\":\"JOIN3\"},{\"source\":\"LOAD_DATASET0\",\"target\":\"JOIN0\"},{\"source\":\"LOAD_DATASET3\",\"target\":\"JOIN3\"},{\"source\":\"LOAD_DATASET4\",\"target\":\"JOIN0\"},{\"source\":\"JOIN3\",\"target\":\"JOIN4\"},{\"source\":\"LOAD_DATASET5\",\"target\":\"JOIN4\"},{\"source\":\"JOIN4\",\"target\":\"TRANSFORM1\"},{\"source\":\"TRANSFORM1\",\"target\":\"OUTPUT0\"},{\"source\":\"LOAD_DATASET6\",\"target\":\"JOIN5\"},{\"source\":\"TRANSFORM1\",\"target\":\"JOIN5\"},{\"source\":\"JOIN5\",\"target\":\"OUTPUT1\"}],\"nodes\":{\"LOAD_DATASET6\":{\"top\":671.9,\"left\":112.4,\"label\":\"CaseHistory\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"JOIN0\":{\"top\":112,\"left\":252,\"description\":\"\",\"label\":\"Join Account onto Case\",\"type\":\"JOIN\"},\"LOAD_DATASET5\":{\"top\":531.7,\"left\":112.4,\"description\":\"\",\"label\":\"Load User Dataset\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"LOAD_DATASET4\":{\"top\":252,\"left\":112,\"description\":\"\",\"label\":\"Load Account Dataset\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"OUTPUT0\":{\"top\":112.19999999999999,\"left\":812.1,\"description\":\"\",\"label\":\"Save Case\",\"type\":\"OUTPUT\"},\"LOAD_DATASET3\":{\"top\":391.9,\"left\":112.5,\"label\":\"Contact\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"LOAD_DATASET0\":{\"top\":112,\"left\":112,\"label\":\"Case\",\"type\":\"LOAD_DATASET\",\"parameters\":{\"sampleSize\":2000}},\"JOIN5\":{\"top\":672.1,\"left\":672.5,\"label\":\"Join\",\"type\":\"JOIN\"},\"JOIN4\":{\"top\":112.1,\"left\":532,\"description\":\"\",\"label\":\"Join User Owner onto Case\",\"type\":\"JOIN\"},\"OUTPUT1\":{\"top\":672.1,\"left\":812.4,\"description\":\"\",\"label\":\"Save CaseHistory\",\"type\":\"OUTPUT\"},\"TRANSFORM1\":{\"connectors\":[{\"source\":\"FORMULA1\",\"target\":\"EDIT_ATTRIBUTES1\"},{\"source\":\"EDIT_ATTRIBUTES1\",\"target\":\"FORMULA2\"},{\"source\":\"FORMULA2\",\"target\":\"EDIT_ATTRIBUTES2\"},{\"source\":\"EDIT_ATTRIBUTES2\",\"target\":\"EDIT_ATTRIBUTES3\"},{\"source\":\"EDIT_ATTRIBUTES3\",\"target\":\"DETECT_SENTIMENT0\"},{\"source\":\"DETECT_SENTIMENT0\",\"target\":\"FORMULA3\"}],\"top\":112.19999999999999,\"left\":672.1,\"label\":\"Transform\",\"type\":\"TRANSFORM\",\"graph\":{\"EDIT_ATTRIBUTES1\":null,\"EDIT_ATTRIBUTES3\":null,\"EDIT_ATTRIBUTES2\":null,\"FORMULA1\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"FORMULA2\":{\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}},\"DETECT_SENTIMENT0\":{\"label\":\"Detect Sentiment\"},\"FORMULA3\":{\"label\":\"DescriptionSentimentRating\",\"parameters\":{\"type\":\"BASE_FORMULA_UI\"}}}},\"JOIN3\":{\"top\":112.30000000000001,\"left\":391.9,\"description\":\"\",\"label\":\"Join Contact onto Case\",\"type\":\"JOIN\"}}},\"version\":\"56.0\",\"runMode\":null}"]